<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>Under the hood - systemd kubernetes containers</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">Under the hood</a></h1>
                <nav><ul>
                    <li class="active"><a href="/category/systemd-kubernetes-containers.html">systemd kubernetes containers</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="/stopping-systemd-workloads-in-k8s.html">Stopping systemd workloads in k8s</a></h1>
<footer class="post-info">
        <abbr class="published" title="2021-11-28T12:00:00+01:00">
                Published: Sun 28 November 2021
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/blackbox.html">blackbox</a>
        </address>
<p>In <a href="/category/systemd-kubernetes-containers.html">systemd kubernetes containers</a>.</p>

</footer><!-- /.post-info --><h1>Stopping systemd workloads in k8s</h1>
<p>Are you using systemd workloads? then this article sure will catch your
attention. Into this article we are going to see how the workloads based on
systemd could be stopped gracefully.</p>
<p>To show what we want to transmit into this article, we are going to do
some hands on by using a simple systemd workload which run an nginx
service; we will see the differences between using the workload in a container
and using the workload in kubernetes. Finally we will see how to overcome the
situation in kubernetes by using container lifecycle hook handlers.</p>
<h2>Defining the workload</h2>
<p>We are going to use the following simple Dockerfile to build our workload.</p>
<div class="highlight"><pre><span></span><code><span class="k">FROM</span> <span class="s">quay.io/fedora/fedora:35</span>
</code></pre></div>

<h2>References</h2>
<ul>
<li><a href="https://frasertweedale.github.io">Fraser's blog</a>.</li>
<li><a href=""></a>.</li>
<li><a href=""></a>.</li>
<li><a href=""></a>.</li>
<li><a href=""></a>.</li>
</ul>                </article>
            </aside><!-- /#featured -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>